# Event Class

Описывает значение пришедшего в систему события, также место хранения его настроек.

## Настройки

* **Имя** (`Name`) - имя класса события. Должно быть уникальным, используется нотация категорий, разделённых `|`
* **Текст** (`Text`) - блок настроек текстового описания события
    * **Описание** (`Description`) - краткое описание
    * **Шаблон заголовка** (`Subject Template`) - шаблон заголовка события, отображающийся в интерфейсе.
    * **Шаблон содержания** (`Body template`) - шаблон содержания события, отображающийся при его просмотре
    * **Симптомы** (`Symptoms`) - описание вероятных симптомов, вызвавших появление события
    * **Возможные причины** (`Probably Cause`) - возможные причины
    * **Рекомендованные действия** (`Recommended Actions`) - действия, которые необходимо принять для устранения события
* **Действие** - действия системы с событием
    * **Действие** (`Action`)
        * **Drop** - прекратить обработку события
        * **Log** - Продолжить обработку и сохранить в событиях
        * **Archive** - Продолжить обработку и перенести в архивные
    * **Событие на интерфейсе** (`Link Event`)
* **Переменные** (`Vars`) - используемые в событии переменные
    * **Имя** (`Name`) - имя переменной
    * **Тип** (`Type`) - тип переменной
    * **Обязательно** (`Required`) - переменная обязательно должна быть заполнена
    * **Подавление** (`Match Suppress`) - переменная используется в обнаружении подавления
    * **Описание** (`Description`) - краткое разъяснение
* **Размещение** (`Disposition`) - правила обработки события, обрабатываются последовательно до окончания или указателя на окончание (`Stop`)
    * **Имя** (`Name`) - имя, должно быть уникальным
    * **Условие** (`Condition`) - условие применения размещения
    * **Действие** (`Action`) - действия при применении
        * `drop` - удалить событие и остановить обработку
        * `ignore` - проигнорировать строку
        * `raise` - отправить событие на обработку в коррелятор для создания аварии
        * `clear` - отправить событие на обработку в коррелятор для закрытия аварии
    * **Класс аварии** (`Alarm Class`) - Класс аварии (применяется при действиях `raise` и `clear`)
    * **Окончание** (`Stop`) - Остановить обработку при выставленном 
    * **Объект** (`Managed Object`) - выражение `Python` для обозначение устройства (`ManagedObject`)
    * **Привязка переменных** (`Vars Mapping`)
* **Подавление** (`Supression`) - настройки подавления событий
    * **Окно подавления повторов** (`Deduplication Window`)
    * **Suppression Window** (`Suppression Window`)
    * **Время жизни события** (`TTL`)
* **Обработчики** (`Handlers`) - список обработчиков [Handler](../handler/index.md) для исполнения
* **Плагины** (`Plugins`) - список плагинов *не используется*



## Описание работы

Настройки класса событий влияют на работу классификатора [classifier](../../services-reference/classifier.md), 
и назначаются на основе правил классификации [Classification Rule](../event-classification-rule/index.md). Если подходящего 
правила на найдено, то срабатывают правила по умолчанию либо назначается класс `Unknown | Default`:

* `Unknown | Syslog` - назначается событиям на основе `Syslog`, для которых не обнаружено подходящего правила
* `Unknown | SNMP Trap` - назначается событиям на основе `SNMP Trap`, для которых не обнаружено подходящего правила
* `Unknown | Default` - назначается событиям, если не удалось сопоставить с любым из правил.

Время жизни события (`TTL`) позволяет не засорять базу излишними данными. 
При этом, если событие было передано на дальнейшую обработку, например стало аварией, то действие TTL отменяется.

## Правила именования

В наименовании классов событий используются разделение по категориям символом `|`: `<category1> | <category2> | <category3>`, 
для каждого производителя выделена своя категория, в неё заносятся специфичные для него классы. 