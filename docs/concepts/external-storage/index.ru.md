# External Storage (Внешнее хранилище)

## Описание

Используется для указании системы на файловое хранилище в тех местах где требуется доступ к файловой системе. Для работы используется библиотека [PyFilesystem2](https://pypi.org/project/fs/). Она поддерживает достаточно большое число разнообразных плагинов для работы с разными файловыми системами. Тип файловой системы указывается в начале URL. В базовой поставке идут адаптеры для:
* `OSFS` локальная файловая система. Используется по умолчанию (если не указан протокол), ссылка вида: `osfs://var/lib/` 
* `FTP` доступ к FTP серверу - `ftp://XXXX`

По ссылке доступны [внешние](https://www.pyfilesystem.org/page/index-of-filesystems/) (`External`) файловые системы. Для их работы необходимо поставить библиотку через `./bin pip install`. Например:
* `SSH`. ссылка выглядит как `ssh://172.20.1.20:/var/lib/noc/beef`, для работы необходимо установить модуль `fs.sshfs` 


## Управление внешними хранилищами

Внешние хранилища (`Externale Storage`) находятся в меню `Основные (Main) -> Настройки (Setup) -> Внешние хранилища (Ext. Stoage)`.

![](images/ext-storage-list1.png)

Форма редактирования открывается по двойному клику на строке

![](images/ext-storage-form-upload-config.png)

* **Имя** (`Name`) - Имя хранилища в системе
* Описание (`Description`) 
* **URL** (`URL`) - 
* **Тип** (`Type`) - назначение, где в системе может использоваться хранилище:
    * `Config Upload` - используется для поиска конфигурации оборудования [Download Config](../../../background/configuration-management/index.md#Сбор_конфигурации)
    * `Config Mirror` - используется для зеркалирования конфигурации оборудования [Config Mirror](../../../background/configuration-management/index.md#Обработка)
    * `Beef` - Хранение файлов тушёнки (`Beef`)
    * `Beef Test` - хранение файлов тестирование адаптеров
    * `Beef Test Config` - хранение 