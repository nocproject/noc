# Как создавать фасады оборудования

Фасады являются визуальным представлениием оборудования и отображают его физическую конфигурацию и набивку. Они привязываются к моделям объектов и бывают передними и задними (только для шасси).

## Правила именования фасадов

### Типы соединений

Начало имени фасада для типа соединений должно совпадать с именем типа. Затем, через пробел, должен быть указан один из двух суффиксов:

* `(M)` - для "папы"
* `(F)` - для "мамы"

### Модель объекта

* Имя переднего фасада полностью совпадает с именем модели
* Имя заднего фасада начинается с имени модели, за которым идет пробел и суффикс `(Rear)`

## Требования к фасадам

Фасады создаются в формате SVG, при этом используются общие конвенции:

* Все размеры задаются в миллиметрах, допустимы дробные значения.
* SVG должен содержать аттрибут viewBox вида "0 0 WIDTH HEIGHT", где WIDTH и HEIGHT - размеры в миллиметрах.
* Во избежание путанницы координаты и размеры элементов внутри SVG тоже следует задавать в миллиметрах.
* Если элемент представляет собой залитый прямоугольник, необходимо установить параметр stroke width в 0, в противном случае элемент будет выступать на половину ширины штриха в каждую сторону.
* Части фасада, относящиеся к конкретному connection должны иметь аттрибут `id` вида `noc-slot-<нормализованное имя>` (В шаблонах создаются автоматически).

## Подготовка типа соединений

Типы соединений могут влючать в себя до двух фасадов - по одному на каждый пол. Фасады типов соединений не используются сами по себе, но используются как шаблонные элементы на фасадах оборудования.

Кроме того, размеры прямоугольников для слотов модулей также задаются в данных типа соединений:

| Interface    | Attribute | Описаниие   |
| ------------ | --------- | ----------- |
| `dimensions` | `width`   | Ширина в мм |
| `dimensions` | `height`  | Высота в мм |

См описание интерфейса [dimensions](../model-interfaces-reference/dimensions.md) для дополнительных деталей.

Тогда на шаблонах слоты под модули и карты будут сразу иметь необходимые размеры. Так как типы соединений часто переиспользуются, правильно проставленные атрибуты позволят сгенерировать шаблоны для всей линейки модулей.

## Подготовка Object Model

К Object model могут быть привязаны передние и задние фасады. Для того, чтобы правильно сгенерировать шаблон фасада необходимо задать его размеры. Они задаются через параметры моделей одним из двух способов.

Для стоечного оборудования:

| Interface   | Attribute | Описаниие        |
| ----------- | --------- | ---------------- |
| `rackmount` | `units`   | Размер в unit'ах |

При этом необходимые размеры будут вычислены автоматически.
См описание интерфейса [rackmount](../model-interfaces-reference/rackmount.md) для дополнительных деталей.

Для прочего оборудования (модули, блоки питания) при наличии connection type типа `o` используются размеры connection type.

Для самостоятельного оборудования не стоечного формата размеры задаются в аттрибутах:

| Interface    | Attribute | Описаниие   |
| ------------ | --------- | ----------- |
| `dimensions` | `width`   | Ширина в мм |
| `dimensions` | `height`  | Высота в мм |

См описание интерфейса [dimensions](../model-interfaces-reference/dimensions.md) для дополнительных деталей.


## Получение шаблона

В {{ ui_path("Inventory", "Setup", "Object Model") }} необходимо выбрать модель. Рядом с полями `Front` или `Rear Facade` необходимо нажать на кнопку `Template`. В результате будет скачан шаблон, содержащий необходимые элементы.

## Инструменты для редактирования

Редактор SVG должен позволять редактировать координаты и размеры в числовом виде.

Рекомендуется:

* [BoxySVG](https://boxy-svg.com)

## Загрузка фасада

После того, как изображение подготовлено, необходимо зайти в {{ ui_path("Inventory", "Setup", "Facade") }} и нажать на Add.

Далее необходимо заполнить поле `Name` согласно разделу "Правила именования фасадов".

Затем в поле `Data` нажать на кнопку `Upload` и выбрать файл.

После загрузки файла его изображение появится в поле.

Далее необходимо нажать кнопку `Save`

## Привязка фасадов к Connection Type

В {{ ui_path("Inventory", "Setup", "Connection Type") }} необходимо выбрать тип соединения.

Далее, в полях `Male Facade` и `Female Facade` необходимо выбрать требуемые фасады из выпадающего списка.

Для сохранения изменений необходимо нажать кнопку `Save`.

## Привязка фасадов к Object Model

В {{ ui_path("Inventory", "Setup", "Object Models") }} необходимо выбрать модель.

Далее, в полях `Front Facade` и `Rear Facade` необходимо выбрать требуемые фасады из выпадающего списка.

Для сохранения изменений необходимо нажать кнопку `Save`.

Для проверки фасада после сохранения необходимо вновь открыть модель и проанализировать первую колонку в поле Connections.

* Иконка "палец вправо" обозначает, что слот присутсвует на переднем фасаде
* Иконка "палец влево" обозначает, что слот присутсвует на заднем фасаде.

## Повторное использование фасадов

Часто оборудование одного вендора со схожей конфигурацией портов имеет одинаковый внешний вид. В таком случае фасады могут использоваться несколькими моделями, при условии, что они имеют connections с одинаковыми именами.

## Размещение фасадов в коллекциях NOC

См. раздел [Sharing collections HOWTO](../sharing-collections-howto/index.md) для описания процесса
отправки изменений в коллекциях в проект NOC.