<table class="table table-condensed table-hover">
    <thead>
        <tr>
            <th colspan="5">
                {{ _("Outages Summary") }}
                <a href="/api/card/view/totaloutage/1/" style="color: black">{{ summary | glyph_summary }}</a>
            </th>
        </tr>
        <tr>
            <th class="col-sm-2">{{ _("Services") }}</th>
            <th class="col-sm-6">{{ _("Object") }}</th>
            <th class="col-sm-1">{{ _("Start") }}</th>
            <th class="col-sm-1">{{ _("Duration") }}</th>
            <th class="col-sm-2">{{ _("TT") }}</th>
        <tr>
    </thead>
{% for segment in segments recursive%}
    {% set level = loop.depth0 %}
    <tr>
        <td class="col-sm-2" style="padding-left: {{ 20 * level }}px">
            <i class="fa fa-angle-right"></i>
            {{ segment["summary"] | glyph_summary | replace("badge", "label label-default") }}
        </td>
        <td colspan="4" class="col-sm-12" style="padding-left: {{ 20 * level }}px">
            <i class="fa fa-angle-right"></i>
            {{ segment["segment"].name }}
        </td>
    </tr>
    {{ loop(segment["segments"]) }}
    {% for object in segment["objects"] %}
        <tr>
            <td class="col-sm-2" style="padding-left: {{ 20 * (level + 1) }}px">
                {{ object["summary"] | glyph_summary }}
            </td>
            <td class="col-sm-4" style="padding-left: {{ 20 * (level + 1) }}px">
                <a href="/api/card/view/alarm/{{ object["alarm"].id }}/">
                    {{ object["object"].name }}
                </a>
                <br/>
                <span class="small">{{ object["object"] | object_location }}</span>
            </td>
            <td class="col-sm-2">
                {{ object["timestamp"] | timestamp }}
            </td>
            <td class="col-sm-2">
                {{ object["duration"] }}
            </td>
            <td class="col-sm-2">
                {% if object["escalation_tt"] %}
                    <a href="/api/card/view/tt/{{ object["escalation_tt"] }}/">
                        {{ object["escalation_tt"] }}
                    </a>
                {% endif %}
            </td>
        </tr>
    {% endfor %}
{% endfor %}
